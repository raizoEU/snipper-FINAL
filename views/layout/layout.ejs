<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('../partials/head'); %>
  </head>
  <body data-bs-theme="light">
    <header><%- include('../partials/header'); %></header>
    <%- include('../partials/flash-list'); %>

    <main class="container"><%- include(pageContent + '.ejs'); %></main>

    <footer><%- include('../partials/footer'); %></footer>
  </body>

  <script>
    document
      .getElementById("theme-toggle")
      .addEventListener("click", function () {
        const currentTheme = document.body.getAttribute("data-bs-theme");

        const newTheme = currentTheme === "light" ? "dark" : "light";
        document.body.setAttribute("data-bs-theme", newTheme);

        localStorage.setItem("theme", newTheme);
      });

    window.onload = function () {
      const savedTheme = localStorage.getItem("theme");
      if (savedTheme) {
        document.body.setAttribute("data-bs-theme", savedTheme);
      }
    };
  </script>
</html>
